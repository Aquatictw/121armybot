# 121軍團中央指揮部 迫真Discord機器人 

一款功能豐富的 Discord 機器人，提供遊戲、娛樂和社群互動功能，專為121軍團打造。

## ✨ 主要功能

### 🔢 德川接龍系統
- 使用特殊德川表情符號進行數字接龍遊戲
- 自動驗證接龍順序和用戶連續發言
- 記錄最高分數和當前進度
- 僅限指定頻道使用

### 🎴 破真角色抽卡系統
- **抽卡機制**: 每2小時10次抽卡機會，自動重置並通知用戶
- **6個稀有度等級**: 
  - 男銅 (65%) 
  - 手銀 (25%)
  - 射金 (8%)
  - 白金 - Semen (1.5%)
  - 黑金 - 雪 (0.45%)
  - 彩虹 - Ultra HOMO (0.05%)
- **卡片合成**: 低等級卡片可合成為高等級卡片
- **隊長系統**: 設定喜愛角色為隊長展示
- **完整背包管理**: 查看、搜尋、兌換卡片

### 💰 經濟系統
- **淫幣系統**: 兌換高等級卡片獲得淫幣
- **商店功能**: 使用淫幣購買特殊道具
- **兌換比率**: 白金3幣、黑金10幣、彩虹30幣

### ⚔️ 戰鬥系統
- 玩家間卡片對戰
- 需要至少5張卡片參與戰鬥
- 視覺化戰鬥界面

### 🏆 排行榜系統
- 根據稀有卡片數量計算積分
- 顯示前5名玩家
- 積分加權: 彩虹×90 + 黑金×10 + 白金×3

### 🤖 AI 聊天機器人
- 智能對話功能
- 支援上下文理解
- 可開啟/關閉聊天模式

### 🎵 語音頻道功能
- 自動連接語音頻道
- 循環播放沼氣

## 📋 指令列表

### 基礎指令
- `!help` - 顯示完整使用手冊
- `!highscore` - 查看當前雪量和最高紀錄

### 抽卡相關
- `!homo` / `!hm` - 抽取角色卡片
- `!myhomo` / `!mh` / `!inv` - 查看個人背包
- `/homocaptain` / `/hc [角色名] [等級]` - 設定隊長
- `/search [角色名] [等級]` - 搜尋特定卡片
- `/exchange [角色名] [等級] [數量]` - 兌換卡片為淫幣
- `/lvlup` - 升級卡片
- `/lvlupall` - 自動升級所有可升級卡片
- `!checktime` / `!ct` - 查看抽卡重置時間

### 社交功能
- `!leaderboard` / `!lb` - 查看排行榜
- `!battle [@用戶]` - 挑戰其他玩家
- `!chat` - 開啟AI聊天模式
- `!stopchat` - 關閉AI聊天模式
- `!shop` - 開啟商店

### 娛樂指令
- `!jingshi` - 正在跳舞的男高中生
- `!yjsnpi` - 野獸吼叫
- `!claimjingshi` - 領取特殊角色

## 🛠️ 安裝與設定

### 環境需求
- Python 3.8+
- discord.py
- 其他依賴套件 (見 requirements.txt)

### 環境變數設定
創建 `.env` 檔案並設定以下變數：
```env
DISCORD_TOKEN=你的機器人TOKEN
AQUATIC_ID=管理員ID
BANGCHI_ID=用戶ID
GUILD_ID=伺服器ID
```

### 頻道ID設定
在 `main.py` 中設定以下頻道ID：
- `COUNT_CHANNEL_ID` - 接龍頻道
- `ROLL_CHANNEL_ID` - 抽卡頻道  
- `DEV_CHANNEL_ID` - 開發頻道
- `VC_CHANNEL_ID` - 語音頻道

### 啟動機器人
```bash
python main.py
```

## 📁 檔案結構
- `main.py` - 主程式檔案
- `util.py` - 工具函數
- `battle.py` - 戰鬥系統
- `image_util.py` - 圖片處理
- `chatbot/chat.py` - AI聊天功能
- `commit_notifier.py` - Git提交通知
- `users.json` - 用戶數據
- `count.txt` - 接龍進度
- `media/` - 媒體檔案目錄

## 🎮 遊戲規則

### 合成規則
- 3張男銅 → 1張手銀
- 5張手銀 → 1張射金  
- 8張射金 → 1張白金
- 8張白金 → 1張黑金
- 10張黑金 → 1張彩虹

### 特殊功能
- 高等級卡片 (白金以上) 訊息不會自動刪除
- 系統會在抽卡重置時自動提醒用戶
- 支援自動完成功能的斜線指令

## 🤝 貢獻指南
歡迎提交 Issue 和 Pull Request 來改善這個專案！

## 📄 授權條款
本專案採用 MIT 授權條款。

---
*肛門灌活鰻魚🐍*

